$(document).on("click","[data-action='invite']",function(e){event.preventDefault();let ref=this.dataset.ref;bootbox.prompt({backdrop:!0,closeButton:!1,title:"Entrez l'email de l'utilisateur",buttons:{confirm:{label:"Ok",className:"btn primary-btn"},cancel:{label:"Annuler",className:"btn dark-btn"}},inputType:"email",callback:function(result){""!==result?$.ajax({url:rootUrl+"controller/ajax/team_short-actions.php",type:"POST",data:{result:result,team_token:ref,action:"invite"},success:function(data){$("#team_output").html(data)}}):notify.new({content:"Mail invalide",theme:"error"})}})}),$(document).on("click","[data-action='delete']",function(e){event.preventDefault();let ref=this.dataset.ref;bootbox.confirm({backdrop:!0,closeButton:!1,title:"Êtes vous sûr ?",message:"Vous êtes sur le point de supprimer l'équipe définitivement.",buttons:{cancel:{label:'<i class="fa fa-times"></i> Cancel',className:"btn dark-btn"},confirm:{label:'<i class="fa fa-check"></i> Confirm',className:"btn primary-btn"}},callback:function(result){1==result&&$.ajax({url:rootUrl+"controller/ajax/team_short-actions.php",type:"POST",data:{team_token:ref,action:"delete"},success:function(data){$("#team_output").html(data)}})}})}),$(document).on("click","[data-action='archive']",function(e){event.preventDefault();let ref=this.dataset.ref;bootbox.confirm({backdrop:!0,closeButton:!1,title:"Êtes vous sûr ?",message:"Vous êtes sur le point d'archiver l'équipe temporairement.",buttons:{cancel:{label:'<i class="fa fa-times"></i> Cancel',className:"btn dark-btn"},confirm:{label:'<i class="fa fa-check"></i> Confirm',className:"btn primary-btn"}},callback:function(result){1==result&&$.ajax({url:rootUrl+"controller/ajax/team_short-actions.php",type:"POST",data:{team_token:ref,action:"archive"},success:function(data){$("#team_output").html(data)}})}})}),$(document).on("click","[data-action='unarchive']",function(e){event.preventDefault();let ref=this.dataset.ref;bootbox.confirm({backdrop:!0,closeButton:!1,title:"Êtes vous sûr ?",message:"Vous êtes sur le point de désarchiver l'équipe.",buttons:{cancel:{label:'<i class="fa fa-times"></i> Cancel',className:"btn dark-btn"},confirm:{label:'<i class="fa fa-check"></i> Confirm',className:"btn primary-btn"}},callback:function(result){1==result&&$.ajax({url:rootUrl+"controller/ajax/team_short-actions.php",type:"POST",data:{team_token:ref,action:"unarchive"},success:function(data){$("#team_output").html(data)}})}})}),$(document).on("click","[data-action='leave']",function(e){event.preventDefault();let ref=this.dataset.ref;bootbox.confirm({backdrop:!0,closeButton:!1,title:"Êtes vous sûr ?",message:"Vous êtes sur le point de quitter l'équipe.",buttons:{cancel:{label:'<i class="fa fa-times"></i> Cancel',className:"btn dark-btn"},confirm:{label:'<i class="fa fa-check"></i> Confirm',className:"btn primary-btn"}},callback:function(result){1==result&&$.ajax({url:rootUrl+"controller/ajax/team_short-actions.php",type:"POST",data:{team_token:ref,action:"leave"},success:function(data){$("#team_output").html(data)}})}})}),$(document).on("click","[data-action='kick']",function(e){event.preventDefault();let ref=this.dataset.ref,member=this.dataset.mem;bootbox.confirm({backdrop:!0,closeButton:!1,title:"Êtes vous sûr ?",message:"Vous êtes sur le point de le retirer de l'équipe.",buttons:{cancel:{label:'<i class="fa fa-times"></i> Cancel',className:"btn dark-btn"},confirm:{label:'<i class="fa fa-check"></i> Confirm',className:"btn primary-btn"}},callback:function(result){1==result&&$.ajax({url:rootUrl+"controller/ajax/team_short-actions.php",type:"POST",data:{team_token:ref,member:member,action:"kick"},success:function(data){$("#team_output").html(data)}})}})}),$(document).on("click","[data-action='rename']",function(e){event.preventDefault();let ref=this.dataset.ref;bootbox.prompt({backdrop:!0,closeButton:!1,title:"Entrez le nouveau nom",buttons:{confirm:{label:"Ok",className:"btn primary-btn"},cancel:{label:"Annuler",className:"btn dark-btn"}},inputType:"text",callback:function(result){""!==result?$.ajax({url:rootUrl+"controller/ajax/team_short-actions.php",type:"POST",data:{result:result,team_token:ref,action:"rename"},success:function(data){$("#team_output").html(data)}}):notify.new({content:"Vide",theme:"error"})}})});