mermaid.initialize({startOnLoad:!0});var exportSVG=function(svg){var clone=svg.cloneNode(!0);parseStyles(clone);var svgDocType=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),svgDoc=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",svgDocType);svgDoc.replaceChild(clone,svgDoc.documentElement);var svgData=(new XMLSerializer).serializeToString(svgDoc),a=document.createElement("a");a.href="data:image/svg+xml; charset=utf8, "+encodeURIComponent(svgData.replace(/></g,">\n\r<")),a.download="diagram_exported.svg",a.innerHTML='<i class="fas fa-check"></i>',$("#export_btn").html(a),$("#export_btn a").addClass("btn btn-sm light-btn-bordered light-color margin-right")},parseStyles=function(svg){var styleSheets=[],i,docStyles=svg.ownerDocument.styleSheets;for(i=0;i<docStyles.length;i++)styleSheets.push(docStyles[i]);if(styleSheets.length){var defs=svg.querySelector("defs")||document.createElementNS("http://www.w3.org/2000/svg","defs");for(defs.parentNode||svg.insertBefore(defs,svg.firstElementChild),svg.matches=svg.matches||svg.webkitMatchesSelector||svg.mozMatchesSelector||svg.msMatchesSelector||svg.oMatchesSelector,i=0;i<styleSheets.length;i++){var currentStyle=styleSheets[i],rules;try{rules=currentStyle.cssRules}catch(e){continue}for(var style=document.createElement("style"),l=rules&&rules.length,j=0;j<l;j++){var selector=rules[j].selectorText;if(selector&&(svg.matches&&svg.matches(selector)||svg.querySelector(selector))){var cssText=rules[j].cssText;style.innerHTML+=cssText+"\n"}}style.innerHTML&&defs.appendChild(style)}}};$("#export_btn").click(function(){$(this).empty()});let orgDiagramName=$("#diagram_name").html();$("body").on("focusout","#diagram_name",function(){orgDiagramName!==$(this).html()?console.log($(this).html()):console.log("pas de changement")}),$("#diagram_name").bind("keypress keydown keyup",function(e){13==e.keyCode&&e.preventDefault()});